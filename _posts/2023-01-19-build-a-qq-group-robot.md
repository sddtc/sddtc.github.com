---
title: "站巨人肩膀之徒手开发QQ群机器人来满足帮会日常需求"
layout: post
categories: sddtc
date: "2023-01-19"
guid: urn:uuid:4f7b5036-193b-4f68-a8f3-d066b5830f30
tags:
- tech
- QQRobot
---

剑网3玩家会在平时关心很多事情, 他们有自己的社交群体, 有自己的时间管理计划, 有最强大的硬盘配置  
毕竟时至今日我仍然想不通自己为什么会下载一款 80G+ 的端游  
到底是看不起软件开发的速度跟不上硬件发展的速度, 还是太看得起自己的经济实力  

但毫无疑问, 在活跃的各种 QQ 群里, 大家需要各种各样的信息, 例如:  

* 今天大战战场美人图在哪里
* 今天的奇遇是什么, 宠物刷在哪, 声望副本是哪里
* 所有人的前一天晚上的 jjc 战绩如何【可能只有个别人关心咳咳

或者是:  

* 组织帮会每周活动, 杀猪或者副本
* 查询每个人的游戏信息, 装备信息
* 讲骚话

那么打造一款这样的机器人都需要什么? 在简单的调研之后笔者来从最简单到最标准来个介绍:  
* 注册一个专门用来做机器人的 QQ 号, 调整设备安全级别为最低, 之后利用项目来登录该 QQ
* 找到一款开源的 QQ 机器人项目, 调试并启动运行, 检查是否能正常接受和发送群消息. 那么开源项目那么多, 该怎么选择呢? 依据以下两点, 笔者选择了 [mirai](https://github.com/mamoe/mirai)    
  * 可以满足自己的需求
  * 文档资料较为齐全的
* 通过强大的搜索引擎找到剑网3的 API, 目前感觉大部分是黑盒 API, 能用但是并不知道哪天就不能用了, 并没有官方的文档  
* 因为功能需要针对帮会的需求进行定制化, 因此笔者自己也创建了一个名叫机关小猪的项目, 用来监听, 解析, 分析, 发送信息  

![little-pig-robot](https://cdn.jsdelivr.net/gh/sddtc/upic-cloud@main/images/2023/2023-01-22-zci3TGSEaBqx.png)

为了方便功能调试, QQ robot 和机关小猪项目都运行在本地电脑上, 那么意味着有网的时候能正常工作, 当你的电脑没网了基本上群机器人也冬眠了. 群里的亲友时常在召唤机关小猪的时候由于笔者在上下班的路上因此毫无回应  
等到第一个功能开发完备, 笔者需要将它们部署在云服务上, 接下来要做的事大概包括:  
* 机关小猪需要集成 CI 跑测试, 集成 CD 将项目打包上传到云服务. 笔者大概率会选择 aws 云, 因为已经有账号. 也觉得价格合理且文档齐备
* 将 mirai 的 mcl 客户端部署到云端, 机关小猪和 mcl 如果部署在一起就不用解决网路访问的问题, 否则需要考虑网络访问  

最后的最后, 一定要和大家分享一个视频(来自关爱手癌-宫聚仁), 太棒了🥹. 祝大家新的一年心想事成   

<video width="auto%" preload="auto" muted controls><source src="https://www.sddtc.florist/media/video/2023-01-22-shouai.mp4" type="video/mp4">





